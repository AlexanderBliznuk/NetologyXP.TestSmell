{"version":3,"sources":["whenBarmenPourWhiskyTests.js"],"names":[],"mappings":";;AAAA;;;;AACA;;AACA;;AACA;;AACA;;;;AACA;;AACA;;;;;;AAGA,MAAM,yBAAN,EAAiC,YAAY;AACzC,UAAM,UAAU,IAAV,EAAgB;AAClB,aAAK,OAAL,CAAa,KAAb;AACA;AACA,uCAAS,uDAAT,EAAkE,WAAlE,EAA+E,YAAW;AACtF,gBAAI,MAAM,kBAAS,WAAT,CAAV;AACA,6BAAQ,GAAR;AACA;AACA;AACH,SALD;AAMH,KATD;;AAWA,UAAM,gBAAN,EAAwB,YAAY;AAChC,aAAK,wBAAL,EAA+B,UAAU,IAAV,EAAgB;AAC3C,yBAAG,QAAH,CAAY,YAAZ,EAA0B,UAAU,GAAV,EAAe,MAAf,EAAuB;AAC7C,oBAAI,GAAJ,EAAS;AACL,0BAAM,GAAN;AACH;;AAED,oBAAI,aAAa,EAAjB;;AAEA,oBAAI,gBAAgB,kBAAK,MAAL,EAAa,UAAb,CAApB;AACA,+BAAM,aAAN;;AAEA,iCAAO,KAAP,CAAa,UAAb,EAAyB,aAAzB;AACA,iCAAO,KAAP,CAAa,KAAb,EAAoB,oBAApB;AACA,iCAAO,KAAP,CAAa,EAAb,EAAiB,4BAAjB;;AAEA;AACH,aAfD;AAgBH,SAjBD;AAkBH,KAnBD;;AAqBA,UAAM,iBAAN,EAAyB,YAAY;AACjC,aAAK,gBAAL,EAAuB,UAAU,IAAV,EAAgB;AACnC,yBAAG,QAAH,CAAY,YAAZ,EAA0B,UAAU,GAAV,EAAe,MAAf,EAAuB;AAC7C,oBAAI,GAAJ,EAAS;AACL,0BAAM,GAAN;AACH;;AAED,oBAAI,aAAa,CAAC,EAAlB;;AAEA,kCAAO;AAAA,2BAAM,kBAAK,MAAL,EAAa,UAAb,CAAN;AAAA,iBAAP,EAAuC,EAAvC,CAA0C,KAA1C,CAAgD,0BAAhD;AACA;AACH,aATD;AAUH,SAXD;AAcH,KAfD;;AAiBA,UAAM,iBAAN,EAAyB,YAAW;AAChC,aAAK,oCAAL,EAA2C,UAAS,IAAT,EAAe;;AAEtD,sCAAW,IAAX,CAAgB,cAAM;AAClB,wBAAQ,GAAR,CAAY,EAAZ;AACA,oBAAI,OAAO,WAAX,EAAwB,CACvB;AACD,oBAAI,aAAa,GAAjB;AACA,oBAAI,SAAS,CAAb;;AAEA,kCAAO;AAAA,2BAAM,kBAAK,MAAL,EAAa,UAAb,CAAN;AAAA,iBAAP,EAAuC,EAAvC,CAA0C,KAA1C,CAAgD,wBAAhD;AACA;AACH,aATD;AAUH,SAZD;AAaH,KAdD;;AAgBA,aAAS,YAAW,CACnB,CADD;AAEH,CApED","file":"whenBarmenPourWhiskyTests-compiled.js","sourcesContent":["import assert from 'assert'\nimport { pour, free as freeBarmen } from '../src/barmen'\nimport { drink, sober, goToBar, getMyCar, getTotallyDrunked, isDrunked } from '../src/me'\nimport { download } from '../src/imageDownloader'\nimport fs from 'fs'\nimport { expect } from 'chai'\nimport username from 'username'\n\n\nsuite('when barmen pour whisky', function () {\n    setup(function (done) {\n        this.timeout(20000);\n        sober();\n        download('http://www.rosa-obs.com/images/ccd/M31_karel_full.jpg', 'mycar.jpg', function() {\n            var car = getMyCar(\"mycar.jpg\");\n            goToBar(car);\n            freeBarmen();\n            done();\n        });\n    });\n\n    suite('i ask 50 grams', function () {\n        test('I get and drink whisky', function (done) {\n            fs.readFile('whisky.jpg', function (err, whisky) {\n                if (err) {\n                    throw err;\n                }\n\n                var iAskVolume = 50;\n\n                var volumeInGlass = pour(whisky, iAskVolume);\n                drink(volumeInGlass);\n\n                assert.equal(iAskVolume, volumeInGlass);\n                assert.equal(false, isDrunked());\n                assert.equal(50, getTotallyDrunked());\n\n                done();\n            });\n        });\n    });\n\n    suite('i ask -10 grams', function () {\n        test('I get an error', function (done) {\n            fs.readFile('whisky.jpg', function (err, whisky) {\n                if (err) {\n                    throw err;\n                }\n\n                var iAskVolume = -10;\n\n                expect(() => pour(whisky, iAskVolume)).to.throw(/Invalid volume of whisky/);\n                done();\n            });\n        });\n\n\n    });\n\n    suite('i ask 500 grams', function() {\n        test('Barmen said there is no such glass', function(done) {\n\n            username().then(un => {\n                console.log(un);\n                if (un === \"alex4Zero\") {\n                }\n                var iAskVolume = 500;\n                var whisky = 1;\n\n                expect(() => pour(whisky, iAskVolume)).to.throw(/There is no such glass/);\n                done();\n            });\n        })\n    });\n\n    teardown(function() {\n    })\n});"]}